<% content_for :title, 'Resources' %>
<h1><%= yield :title %></h1>

<% if @resources.any? %>
    <table class="table table-striped table-hover">
        <thead class="thead-dark">
            <tr>
                <th scope="col">Digest</th>
                <th scope="col">Size</th>
                <th scope="col">Bytes</th>
                <th scope="col"><span class="sr-only">Actions</span></th>
            </tr>
        </thead>
        <tbody>
            <% @resources.each do |digest, size| %>
                <tr>
                    <th scope="row"><%= digest %></th>
                    <th scope="row"><%= number_to_human_size size %></th>
                    <th scope="row"><%= size %></th>
                    <td>
                        <%= link_to 'Show', show_resource_path(digest) %> |
                        <%= link_to 'Delete', destroy_resource_path(digest),
                         method: :delete,
                         class: 'text-danger',
                         data: { confirm: 'Are you sure?' } %>
                    </td>
                </tr>
            <% end %>
        </tbody>
    </table>
<% else %>
    <p class="text-secondary font-italic">There is no resource uploaded... yet!</p>
<% end %>
